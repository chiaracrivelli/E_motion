<!DOCTYPE html>
<html lang="en" style="background-color:black; margin:0; padding: 0;">
<head>
  <meta charset="UTF-8">
  <title>[E·motion]</title>
  <meta name="description"              content="[E·motion]">
  <meta name="author"                             content="Chiara Crivelli">
  <meta name="viewport"                 content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable"         content="yes">
  <meta name="apple-mobile-web-app-capable"       content="yes">
  <meta name="theme-color"              content="black">
  <meta name="msapplication-navbutton-color"      content="black">
  <meta name="apple-mobile-web-app-status-bar-style"  content="black">
  <link rel="stylesheet" href="assets/css/style.css">
  
  <script src="https://kit.fontawesome.com/e0ffcb397c.js" crossorigin="anonymous"></script>

  <style>

    #myVideo {
      position:absolute;
      right: 0;
      bottom: 0;
    }

  </style>
</head>

<body>
  <video id="myVideo" width="100%" autoplay loop>
      <source src="https://tesi2020.github.io/VariableFont/E_motion/assets/video/Emotion_Trailer.mp4" type="video/mp4">
  </video>

  <div class="btn" style="background: white; z-index:20 !important; margin-bottom: 1.5rem; margin-right:0rem;">
    <a href="index_Home.html">SKIP INTRO</a>
  </div>

<script type="text/javascript">
  fetch('st.json').then(r => {
    return r.json()
  }).then(json => {
    const out   = document.querySelector('#out')
    const video = document.querySelector('video')
    const sottoTitoli = json

    setInterval(function(){
      const t = video.currentTime * 1000
        out.innerHTML = find(sottoTitoli, t)
      }, 20);
    })

    function find(vt, t){
      for (const e of vt) {
        if (t >= e.start && t <= e.end) {
          return e.part
          }
        }
      return ''
    }
</script>

<script src="assets/js/main_slider_Video.js"></script>
<script src="assets/js/script.js"></script>

</body>
</html>

